{"version":3,"sources":["webpack:///./src/views/my/token.vue","webpack:///./src/views/my/token.vue?a376","webpack:///./src/views/my/token.vue?e7e0","webpack:///./src/assets/images/logo.png"],"names":["class","src","alt","type","placeholder","token","showHandler","submit","show","closeHandler","name","components","guide","setup","props","store","router","value","accesstoken","result","success","localStorage","setItem","avatar_url","id","loginname","data","commit","push","render","__scopeId","module","exports"],"mappings":"2OAsCOA,MAAM,Y,GACJA,MAAM,W,EACT,eAA2D,OAAtDA,MAAM,MAAMC,IAAA,IAAmCC,IAAI,I,+GAF5D,eAaM,MAbN,EAaM,CAZJ,eASM,MATN,EASM,CARJ,E,eACA,eACkB,SADXC,KAAK,OAAOC,YAAY,W,qDAAyB,EAAAC,MAAK,IAC3DL,MAAM,S,mBADgD,EAAAK,W,SAAd,MAE1C,eAGM,OAHDL,MAAM,OAAQ,QAAK,8BAAE,EAAAM,aAAA,EAAAA,YAAA,sBAAa,uBAIvC,eAA+C,OAA1CN,MAAM,YAAa,QAAK,8BAAE,EAAAO,QAAA,EAAAA,OAAA,sBAAQ,QAGN,EAAAC,M,iBAAnC,eAAiD,G,MAAzC,QAAO,EAAAC,c,0IAWJ,GACbC,KAAM,QACNC,WAAY,CACVC,MAAO,gBAAqB,kBAAM,oDAEpCC,MALa,SAKPC,GACJ,IAAMC,EAAQ,iBACRC,EAAS,iBACTX,EAAQ,eAAI,IACZG,EAAO,gBAAI,GAEXD,EAAK,yDAAI,+GACRF,EAAMY,MADE,iEAEQ,eAAK,gBAAiB,CAAEC,YAAab,EAAMY,QAFnD,OAEPE,EAFO,OAGb,OAAIA,QAAJ,IAAIA,KAAQC,UACVC,aAAaC,QAAQ,2BAA4BjB,EAAMY,OAC/CM,EAA8BJ,EAA9BI,WAAYC,EAAkBL,EAAlBK,GAAIC,EAAcN,EAAdM,UAClBC,EAAO,CACXH,aACAC,KACAC,aAEFV,EAAMY,OAAO,eAAgBD,GAC7BV,EAAOY,KAAK,QAZD,2CAAJ,qDAgBLtB,EAAc,WAClBE,EAAKS,OAAQ,GAGTR,EAAe,WACnBD,EAAKS,OAAQ,GAGf,MAAO,CACLZ,QACAG,OACAD,SACAD,cACAG,kB,UChGN,EAAOoB,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,8CCAAC,EAAOC,QAAU,IAA0B","file":"static/js/chunk-799e0c2f.618c789e.js","sourcesContent":["\n<style lang=\"scss\" scoped>\n.token {\n  height: 100vh;\n  background: #fff;\n  .img {\n    width: 4rem;\n    display: block;\n    margin: 0.3rem auto;\n  }\n  .input {\n    height: 0.8rem;\n    border: 1px solid #999;\n    color: #333;\n    width: 6rem;\n    border-radius: 0.1rem;\n    text-align: center;\n  }\n  .submit {\n    width: 6rem;\n    height: 0.7rem;\n    border-radius: 0.1rem;\n    background: #117cf4;\n    color: #fff;\n    font-size: 0.3rem;\n    margin-top: 0.5rem;\n  }\n  .tips {\n    margin-top: 0.25rem;\n    font-size: 0.24rem;\n    color: #999;\n    a {\n      color: #284af9;\n    }\n  }\n}\n</style>\n<template>\n  <div class=\"token dc\">\n    <div class=\"content\">\n      <img class=\"img\" src=\"../../assets/images/logo.png\" alt=\"\">\n      <input type=\"text\" placeholder=\"ËØ∑ËæìÂÖ•token\" v-model.trim=\"token\"\n        class=\"input\" />\n      <div class=\"tips\" @click=\"showHandler\">ÂΩìÂâçÁöÑtokenËé∑ÂèñÊñπÂºèüëãüëãüëã\n        <!-- <a target=\"_blank\"\n          href=\"https://cnodejs.org/setting\">‰º†ÈÄÅÈó®üëãüëãüëã</a> -->\n      </div>\n      <div class=\"submit dc\" @click=\"submit\">ÁôªÂΩï</div>\n    </div>\n\n    <guide @close=\"closeHandler\" v-if=\"show\"></guide>\n  </div>\n</template>\n\n\n<script>\nimport { post } from \"../../assets/scripts/request\";\nimport { ref, defineAsyncComponent } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  name: \"token\",\n  components: {\n    guide: defineAsyncComponent(() => import(\"../../components/guide.vue\")),\n  },\n  setup(props) {\n    const store = useStore();\n    const router = useRouter();\n    const token = ref(\"\");\n    const show = ref(false);\n\n    const submit = async () => {\n      if (!token.value) return;\n      const result = await post(`/accesstoken/`, { accesstoken: token.value });\n      if (result?.success) {\n        localStorage.setItem(\"vue3_cnodejs_accesstoken\", token.value);\n        const { avatar_url, id, loginname } = result;\n        const data = {\n          avatar_url,\n          id,\n          loginname,\n        };\n        store.commit(\"saveUserInfo\", data);\n        router.push(\"/my\");\n      }\n    };\n\n    const showHandler = () => {\n      show.value = true;\n    };\n\n    const closeHandler = () => {\n      show.value = false;\n    };\n\n    return {\n      token,\n      show,\n      submit,\n      showHandler,\n      closeHandler,\n    };\n  },\n};\n</script>\n\n","import { render } from \"./token.vue?vue&type=template&id=38ca18da&scoped=true\"\nimport script from \"./token.vue?vue&type=script&lang=js\"\nexport * from \"./token.vue?vue&type=script&lang=js\"\n\nimport \"./token.vue?vue&type=style&index=0&id=38ca18da&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-38ca18da\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./token.vue?vue&type=style&index=0&id=38ca18da&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"static/img/logo.d98b48e4.png\";"],"sourceRoot":""}